source("google_api.R", encoding = "utf-8")
price <- read.csv("house_price.csv")
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
View(df)
View(price)
which(price[,5] == "高雄市")
which(price[,9] == "高雄市")
price_use <- price[which(price[,9] == "高雄市"),]
price_use$lat
latlng_distance <- function(lat1,lon1,lat2,lon2){
d = (lat1-lat2)^2+(lon1-lon2)^2
return(d)
}
View(df)
View(df)
latlng_distance(df$Var1,df$Var2,price_use$lat,price_use$lon)
latlng_distance(df$Var1,df$Var2,price_use$lat,price_use$lon)
latlng_distance(df$Var1,df$Var2,price_use$lat,price_use$lon)
length(latlng_distance(df$Var1,df$Var2,price_use$lat,price_use$lon))
latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon)
min(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon))
which.min(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon))
View(price_use)
View(price_use)
price_use[ 2754,]
View(price_use)
174032
which.min(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon))
which(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon))
sort(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon))
which(sort(latlng_distance(df$Var1[1],df$Var2[1],price_use$lat,price_use$lon)))
price_use <- price[which(price[,9] == city),]
city = "高雄市"
price_use <- price[which(price[,9] == city),]
View(price_use)
lat2 = price_use$lat
lon2 = price_use$lon
d = (lat1-lat2)^2+(lon1-lon2)^2
lon1 <- df$Var2
lat1 <- df$Var1
d = (lat1-lat2)^2+(lon1-lon2)^2
order(d)
price_use <- order(d)
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
d = (lat1-lat2)^2+(lon1-lon2)^2
price_use$order <- order(d)
View(price_use)
sort(d)
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
View(price_use)
price_use1 <- price_use[order(price_use$d),]
View(price_use1)
View(price_use)
price_use$單價元平方公尺
return(d)
price_use$"單價元平方公尺"
price_use <- price_use[order(price_use$d),]
price_use$"單價元平方公尺"[1:10]
mean(price_use$"單價元平方公尺"[1:10])
latlng_distance <- function(lat1,lon1,city){
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
return(mean(price_use$"單價元平方公尺"[1:10]))
}
latlng_price <- function(lat1,lon1,city){
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
return(mean(price_use$"單價元平方公尺"[1:10]))
}
latlng_price(df$Var1,df$Var2,"高雄市")
latlng_price(df$Var1[1],df$Var2[1],"高雄市")
latlng_price(df$Var1[2],df$Var2[2],"高雄市")
latlng_price(df$Var1[3],df$Var2[3],"高雄市")
city = "高雄市"
lat1 <- df$Var1
lon1 <- df$Var2
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
View(price_use)
mean(price_use$"單價元平方公尺"[1:10])
latlng_price <- function(lat1,lon1,city){
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
return(mean(price_use$"單價元平方公尺"[1:10]))
}
lat1 <- df$Var1[1]
lon1 <- df$Var2[1]
latlng_price <- function(lat1,lon1,city){
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
return(mean(price_use$"單價元平方公尺"[1:10]))
}
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
mean(price_use$"單價元平方公尺"[1:10])
mean(price_use$"單價元平方公尺"[1:10])
mean(price_use$"單價元平方公尺"[1:10])
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
mean(price_use$"單價元平方公尺"[1:10])
View(price_use1)
View(price_use)
lat1 <- df$Var1[1]
lon1 <- df$Var2[1]
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
mean(price_use$"單價元平方公尺"[1:10])
View(price_use)
View(price_use1)
View(price_use)
city = "高雄市"
lat1 <- df$Var1[1]
lon1 <- df$Var2[1]
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
mean(price_use$"單價元平方公尺"[1:10])
View(price_use)
price_use$"單價元平方公尺"[1:10]
sort(price_use$"單價元平方公尺"[1:10])
sort(price_use$"單價元平方公尺"[1:10])[3:8]
mean(sort(price_use$"單價元平方公尺"[1:10])[3:8])
latlng_price <- function(lat1,lon1,city){
price_use <- price[which(price[,9] == city),]
lat2 = price_use$lat
lon2 = price_use$lon
price_use$d = (lat1-lat2)^2+(lon1-lon2)^2
price_use <- price_use[order(price_use$d),]
return(mean(sort(price_use$"單價元平方公尺"[1:10])[3:8]))
}
df$price <- latlng_price(df$Var1,df$Var2,df$city)
View(df)
for(i in c(1:length(df))){df$price[i] <- latlng_price(df$Var1[i],df$Var2[i],df$city[i])}
View(df)
source("google_api.R", encoding = "utf-8")
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
source("google_api.R", encoding = "utf-8")
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
source("google_api.R", encoding = "utf-8")
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
source("google_api.R", encoding = "utf-8")
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
View(df)
View(df)
df$price <- 0
View(df)
for(j in c(1:length(df))){df$price[j] <- latlng_price(df$Var1[j],df$Var2[j],df$city[j])}
View(df)
df$price <- 0
for(j in c(1:length(df))){df$price[j] <- latlng_price(df$Var1[j],df$Var2[j],df$city[j])}
length(df)
nrow(df)
source("google_api.R", encoding = "utf-8")
price <- read.csv("house_price.csv")
View(price)
df <- town_ltd_info("高雄市","鹽埕區",500,100,1000,5000,300,300,500,100)
View(df)
